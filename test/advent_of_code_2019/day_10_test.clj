(ns advent-of-code-2019.day-10-test
  (:require [advent-of-code-2019.day-10 :refer :all]
            [clojure.test :refer :all]))

(def input (parse-grid "#..#....#...#.#..#.......##.#.####\n#......#..#.#..####.....#..#...##.\n.##.......#..#.#....#.#..#.#....#.\n###..#.....###.#....##.....#...#..\n...#.##..#.###.......#....#....###\n.####...##...........##..#..#.##..\n..#...#.#.#.###....#.#...##.....#.\n......#.....#..#...##.#..##.#..###\n...###.#....#..##.#.#.#....#...###\n..#.###.####..###.#.##..#.##.###..\n...##...#.#..##.#............##.##\n....#.##.##.##..#......##.........\n.#..#.#..#.##......##...#.#.#...##\n.##.....#.#.##...#.#.#...#..###...\n#.#.#..##......#...#...#.......#..\n#.......#..#####.###.#..#..#.#.#..\n.#......##......##...#..#..#..###.\n#.#...#..#....##.#....#.##.#....#.\n....#..#....##..#...##..#..#.#.##.\n#.#.#.#.##.#.#..###.......#....###\n...#.#..##....###.####.#..#.#..#..\n#....##..#...##.#.#.........##.#..\n.#....#.#...#.#.........#..#......\n...#..###...#...#.#.#...#.#..##.##\n.####.##.#..#.#.#.#...#.##......#.\n.##....##..#.#.#.......#.....####.\n#.##.##....#...#..#.#..###..#.###.\n...###.#..#.....#.#.#.#....#....#.\n......#...#.........##....#....##.\n.....#.....#..#.##.#.###.#..##....\n.#.....#.#.....#####.....##..#....\n.####.##...#.......####..#....##..\n.#.#.......#......#.##..##.#.#..##\n......##.....##...##.##...##......"))


(deftest test-day-10-1
  (is (= #{[1 0] [4 0] [0 2] [1 2] [2 2] [3 2] [4 2] [4 3] [3 4] [4 4]}
       (parse-grid ".#..#\n.....\n#####\n....#\n...##")))
  (is (= [[3 4] 8] (day-10-1 (parse-grid ".#..#\n.....\n#####\n....#\n...##"))))
  (is (= [[5 8] 33] (day-10-1 (parse-grid "......#.#.\n#..#.#....\n..#######.\n.#.#.###..\n.#..#.....\n..#....#.#\n#..#....#.\n.##.#..###\n##...#..#.\n.#....####"))))
  (is (= [[11 13] 210] (day-10-1 (parse-grid ".#..##.###...#######\n##.############..##.\n.#.######.########.#\n.###.#######.####.#.\n#####.##.#.##.###.##\n..#####..#.#########\n####################\n#.####....###.#.#.##\n##.#################\n#####.##.###..####..\n..######..##.#######\n####.##.####...##..#\n.#####..#.######.###\n##...#.##########...\n#.##########.#######\n.####.#.###.###.#.##\n....##.##.###..#####\n.#.#.###########.###\n#.#.#.#####.####.###\n###.##.####.##.#..##"))))

    (is (= [[23 20] 334] (day-10-1 input))))

(deftest test-day-10-2
  (is (= [11 19] (day-10-2 input [23 20]))))
